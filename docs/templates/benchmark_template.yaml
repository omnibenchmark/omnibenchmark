# Omnibenchmark YAML Template.
# Generated from Pydantic Benchmark model (omnibenchmark version: 0.2.1.post9.dev0+01ce3d9)
# DO NOT EDIT THIS FILE
# required (string), Unique identifier
id: example_id

# optional (string), Human-readable name
name: example benchmark

# optional (string), Description of the entity
description: A more verbose description, for humans reading this

# required (string), Benchmark author
benchmarker: Your Name

# required (string), Benchmark version
version: 1.0.0

# required (SoftwareBackendEnum), Software backend, options: apptainer, conda, docker, envmodules, host
software_backend: apptainer

# required (array), Available software environments
software_environments:
  - # Example item:
    # required (string), Unique identifier
    id: example_id

    # optional (string), Human-readable name
    name: example benchmark

    # optional (string), Description of the entity
    description: A more verbose description, for humans reading this

    # optional (Repository)
    repository:
      # required (string), Repository URL
      url: https://example.com

      # required (string), Commit hash
      commit: c0ffee4

      # optional (RepositoryType), Repository type, options: git
      type: git


    # optional (string), Conda environment file path
    conda: example_conda

    # optional (string), Apptainer/Singularity image path
    apptainer: example_apptainer

    # optional (string), Docker image
    docker: example_docker

    # optional (string), Environment module name
    envmodule: example_envmodule

    # optional (string), EasyBuild config path
    easyconfig: example_easyconfig


# required (array), Benchmark stages
stages:
  - # Example item:
    # required (string), Unique identifier
    id: example_id

    # optional (string), Human-readable name
    name: example benchmark

    # optional (string), Description of the entity
    description: A more verbose description, for humans reading this

    # required (array), Modules in this stage
    modules:
      - # Example item:
        # required (string), Software environment ID
        software_environment: example_software_environment

        # required (string), Unique identifier
        id: example_id

        # optional (string), Human-readable name
        name: example benchmark

        # optional (string), Description of the entity
        description: A more verbose description, for humans reading this

        # required (Repository), Module repository
        repository:
          # required (string), Repository URL
          url: https://example.com

          # required (string), Commit hash
          commit: c0ffee4

          # optional (RepositoryType), Repository type, options: git
          type: git


        # optional (array), Module parameters
        parameters: ...

        # optional (array), Paths to exclude
        exclude: ...

        # optional (array), Module outputs
        outputs: ...


    # optional (array), Stage inputs
    inputs: ...

    # required (array), Stage outputs
    outputs:
      - # Example item:
        # required (string), Unique identifier
        id: example_id

        # required (string), Filename parametrized path
        # The parameters are injected by the benchmark runner
        path: {name}_output.txt



# optional (array), Metric collectors
metric_collectors: ...

# optional (Storage), Remote storage configuration
storage:
  # optional (StorageAPIEnum), Storage API type (currently only S3 is supported), options: S3
  api: S3

  # required (string), Storage endpoint URL
  endpoint: example_endpoint

  # optional (string), Storage bucket name (only needed if using S3)
  bucket_name: example-bucket


# optional (StorageAPIEnum), Storage API type (deprecated, use storage.api)
storage_api: S3

# optional (string), Storage bucket name (deprecated, use storage.bucket_name)
storage_bucket_name: example_storage_bucket_name

# optional (string), Benchmark YAML specification version (deprecated, use api_version)
benchmark_yaml_spec: 0.0

# optional (APIVersion), default: 0.3.0, API version, options: 0.1.0, 0.2.0, 0.3.0
api_version: 0.3.0
