id: CondaBackendTest
description: Test benchmark for conda environment resolution
version: "1.0"
benchmarker: "Test Suite"
software_backend: conda

software_environments:
  - id: python_env
    description: "Python environment with scientific packages"
    conda: envs/python_env.yaml

stages:
  - id: data
    modules:
      - id: loader
        name: "Data loader module"
        software_environment: "python_env"
        repository:
          url: bundles/dummymodule_4ff8427.bundle
          commit: 4ff8427
        parameters:
          - evaluate: "1+1"
    outputs:
      - id: data.raw
        path: "{dataset}_data.json"

  - id: processing
    modules:
      - id: processor
        name: "Data processor module"
        software_environment: "python_env"
        repository:
          url: bundles/dummymodule_4ff8427.bundle
          commit: 4ff8427
        parameters:
          - evaluate: "input*2"
            input: "data.raw"
    inputs:
      - data.raw
    outputs:
      - id: processed.result
        path: "{dataset}_processed.json"